class MYSQL {
  constructor (url) {
    this.url = url
  }
  request (method, callback) {
    const request = new XMLHttpRequest()
    request.open(method, this.url)
    request.addEventListener('load', (event) => {
      console.log(event)
      if (request.status >= 200 && request.status < 300) {
        callback(null, request.responseText)
      } else {
        callback({status: request.status, statusText: request.statusText})
      }
    })
    request.send()
  }
  get(params, callback) {
    this.request('GET', callback)
  }
}

if (typeof window !== 'undefined') {
  window.MYSQL = MYSQL
}

module.exports = MYSQL