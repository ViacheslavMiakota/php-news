# MySQL PHP API - WORK IN PROGRESS

Lightweight MySQL PHP API with JavaScript wrapper.

## Demo

Test this API without headache in the online IDE Cloud9:

1. Register free account at [Cloud9](https://c9.io/)
2. Create new workspace
   - Workspace name: `mysql-php-api``
   - Team: `Don't set up a team for this workspace`
   - Clone from GIT: `https://github.com/scriptPilot/mysql-php-api`
   - Create workspace
3. Update *demo/config.template.json* and save as *demo/config.json*
4. Install PHPMyAdmin with `phpmyadmin-ctl install` and remember URL and username
5. Open PHPMyAdmin, create a new database *mysql-php-api* and execute SQL query:
   ```
   CREATE TABLE IF NOT EXISTS `names` (
     `id` int(4) NOT NULL AUTO_INCREMENT,
     `lastname` varchar(50) NOT NULL,
     `firstname` varchar(50) NOT NULL,
     `city` varchar(50) NOT NULL,
     PRIMARY KEY (`id`)
   ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;
   ```
6. Update *src/api.config.template.php* and save as *src/api.config.php*
7. Right click on the file *src/api.php* and select *run*
8. Click *Preview > Preview running application* from the upper menu and open the *demo* folder

## Usage

### Read

```
const sql = require('mysql-php-api')
const query = {
  method: 'read',
  table: 'names',
  // optional
  filter: {
    city: 'Hamburg'
  },
  // optional
  sortBy: {
    lastname: 'asc',
    firstname: 'asc'
  },
  // optional
  limit: 5
}
const onSuccess = (names) => {
  window.alert('Names: ' + names.join(', '))
}
const onError = (error) => {
  window.alert('Error #' + error.code + ': ' + error.message)
}
sql(query, onSuccess, onError)
```

## Contribution

Please create [an issue](https://github.com/scriptPilot/mysql-php-api/issues) for any open question, bug report or feature request.